<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<!-- 매퍼의 네임스페이스를 지정 -->
<mapper namespace="coffeeIdx.coffeeIdx.mapper.CoffeeIdxMapper">
	<!-- 매퍼의 메소드 이름과 쿼리 이름은 동일해야 한다 -->
	<!-- 반환할 형식이 자바의 기본 클래스가 아닌 경우 패키지 명까지 지정해야 한다 -->
	<select id="selectCoffeeIdxList" resultType="coffeeIdx.coffeeIdx.dto.CoffeeIdxDto">
		<![CDATA[
			SELECT
				CAFE_NAME,
				CAFE_ADDRESS,
				CONTACT_NUMBER,
				to_char(created_datetime, 'YYYY.MM.DD HH24:MI:SS') AS created_datetime
			FROM
				T_CAFE
			WHERE
				DELETED_YN = 'N'
		]]>
	</select>

	<select id="selectCoffeeDetail" parameterType="string" resultType="coffeeIdx.coffeeIdx.dto.CoffeeIdxDto">
		<![CDATA[
			SELECT
				CAFE_NAME,
				CAFE_ADDRESS,
				CONTACT_NUMBER,
				MENU_INFO,
				to_char(created_datetime, 'YYYY.MM.DD HH24:MI:SS') AS created_datetime,
				creator_id
			FROM
				T_CAFE
			WHERE
				DELETED_YN = 'N'
				AND CAFE_NAME = #{cafeName}
				AND CAFE_ADDRESS = #{cafeAddress}
		]]>
	</select>
</mapper>
